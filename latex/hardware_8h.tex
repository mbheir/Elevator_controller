\hypertarget{hardware_8h}{}\section{source/hardware.h File Reference}
\label{hardware_8h}\index{source/hardware.\+h@{source/hardware.\+h}}


Driver for the elevator hardware.  


This graph shows which files directly or indirectly include this file\+:
% FIG 0
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hardware_8h_ae9e42615eade15633bd8c03b7a271a00}\label{hardware_8h_ae9e42615eade15633bd8c03b7a271a00}} 
\#define {\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+O\+F\+\_\+\+F\+L\+O\+O\+RS}~4
\item 
\mbox{\Hypertarget{hardware_8h_a966cbacea011640db5803364bff5ed53}\label{hardware_8h_a966cbacea011640db5803364bff5ed53}} 
\#define {\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+O\+F\+\_\+\+B\+U\+T\+T\+O\+NS}~3
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hardware_8h_a2167c399a24df296afc432bcb88228af}\label{hardware_8h_a2167c399a24df296afc432bcb88228af}} 
enum \hyperlink{hardware_8h_a2167c399a24df296afc432bcb88228af}{Hardware\+Movement} \{ {\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+M\+O\+V\+E\+M\+E\+N\+T\+\_\+\+UP}, 
{\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+M\+O\+V\+E\+M\+E\+N\+T\+\_\+\+S\+T\+OP}, 
{\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+M\+O\+V\+E\+M\+E\+N\+T\+\_\+\+D\+O\+WN}
 \}\begin{DoxyCompactList}\small\item\em Movement type used in {\ttfamily hardware\+\_\+command\+\_\+movement}. \end{DoxyCompactList}
\item 
\mbox{\Hypertarget{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}\label{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}} 
enum \hyperlink{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}{Hardware\+Order} \{ {\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+O\+R\+D\+E\+R\+\_\+\+UP}, 
{\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+O\+R\+D\+E\+R\+\_\+\+I\+N\+S\+I\+DE}, 
{\bfseries H\+A\+R\+D\+W\+A\+R\+E\+\_\+\+O\+R\+D\+E\+R\+\_\+\+D\+O\+WN}
 \}\begin{DoxyCompactList}\small\item\em Order type used in {\ttfamily hardware\+\_\+read\+\_\+order} and in {\ttfamily hardware\+\_\+command\+\_\+order\+\_\+light}. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{hardware_8h_a9005b678e8f3ac391d4565dfd28b451e}{hardware\+Init} ()
\begin{DoxyCompactList}\small\item\em Initializes the elevator control hardware. Must be called once before other calls to the elevator hardware driver. \end{DoxyCompactList}\item 
void \hyperlink{hardware_8h_adbc773374e55e3d33448f1e73a555b8c}{hardware\+Command\+Movement} (\hyperlink{hardware_8h_a2167c399a24df296afc432bcb88228af}{Hardware\+Movement} movement)
\begin{DoxyCompactList}\small\item\em Commands the elevator to either move up or down, or commands it to halt. \end{DoxyCompactList}\item 
int \hyperlink{hardware_8h_acbc07594440ad4d8c0cf606e4312dc7f}{hardware\+Read\+Stop\+Signal} ()
\begin{DoxyCompactList}\small\item\em Polls the hardware for the current stop signal. \end{DoxyCompactList}\item 
int \hyperlink{hardware_8h_adc6a5e321da7d0b127e511a0095c6a72}{hardware\+Read\+Obstruction\+Signal} ()
\begin{DoxyCompactList}\small\item\em Polls the hardware for the current obstruction signal. \end{DoxyCompactList}\item 
int \hyperlink{hardware_8h_ab55ccfd084f51eb115faf9e16ba50ae6}{hardware\+Read\+Floor\+Sensor} (int floor)
\begin{DoxyCompactList}\small\item\em Polls the floor sensor for the given {\ttfamily floor}. \end{DoxyCompactList}\item 
int \hyperlink{hardware_8h_a949eca87cadc0e0b00db40bb5439e769}{hardware\+Read\+Order} (int floor, \hyperlink{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}{Hardware\+Order} order\+\_\+type)
\begin{DoxyCompactList}\small\item\em Polls the hardware for the status of orders from floor {\ttfamily floor} of type {\ttfamily order\+\_\+type}. \end{DoxyCompactList}\item 
void \hyperlink{hardware_8h_aa65cf252d74f125d392acf3cb0712c6d}{hardware\+Command\+Door\+Open} (int door\+\_\+open)
\begin{DoxyCompactList}\small\item\em Commands the hardware to open-\/ or close the elevator door. \end{DoxyCompactList}\item 
void \hyperlink{hardware_8h_aef0229a3315f607c5b2c65c5cb1216ed}{hardware\+Command\+Floor\+Indicator\+On} (int floor)
\begin{DoxyCompactList}\small\item\em Commands the hardware to turn on the floor indicator for {\ttfamily floor}. All indicators all mutually exclusive; other indicator lights will turn off. \end{DoxyCompactList}\item 
void \hyperlink{hardware_8h_a93a01bd55c2b88c235370bd03b7fa469}{hardware\+Command\+Stop\+Light} (int on)
\begin{DoxyCompactList}\small\item\em Sets the light in the panel stop button. \end{DoxyCompactList}\item 
void \hyperlink{hardware_8h_a2ded5eb8bf7aa6d6bf82eef7189f46c7}{hardware\+Command\+Order\+Light} (int floor, \hyperlink{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}{Hardware\+Order} order\+\_\+type, int on)
\begin{DoxyCompactList}\small\item\em Sets the light in a button corresponding to an order of type {\ttfamily order\+\_\+type}, at floor {\ttfamily floor}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Driver for the elevator hardware. 

Neatly wraps up Martin Korsgaard\textquotesingle{}s spaghetti from 2006 ;)

Kolbj√∏rn Austreng 

\subsection{Function Documentation}
\mbox{\Hypertarget{hardware_8h_aa65cf252d74f125d392acf3cb0712c6d}\label{hardware_8h_aa65cf252d74f125d392acf3cb0712c6d}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Command\+Door\+Open@{hardware\+Command\+Door\+Open}}
\index{hardware\+Command\+Door\+Open@{hardware\+Command\+Door\+Open}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Command\+Door\+Open()}{hardwareCommandDoorOpen()}}
{\footnotesize\ttfamily void hardware\+Command\+Door\+Open (\begin{DoxyParamCaption}\item[{int}]{door\+\_\+open }\end{DoxyParamCaption})}



Commands the hardware to open-\/ or close the elevator door. 


\begin{DoxyParams}{Parameters}
{\em door\+\_\+open} & A truthy value (non-\/zero) to open the door; 0 to close. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{hardware_8h_aef0229a3315f607c5b2c65c5cb1216ed}\label{hardware_8h_aef0229a3315f607c5b2c65c5cb1216ed}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Command\+Floor\+Indicator\+On@{hardware\+Command\+Floor\+Indicator\+On}}
\index{hardware\+Command\+Floor\+Indicator\+On@{hardware\+Command\+Floor\+Indicator\+On}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Command\+Floor\+Indicator\+On()}{hardwareCommandFloorIndicatorOn()}}
{\footnotesize\ttfamily void hardware\+Command\+Floor\+Indicator\+On (\begin{DoxyParamCaption}\item[{int}]{floor }\end{DoxyParamCaption})}



Commands the hardware to turn on the floor indicator for {\ttfamily floor}. All indicators all mutually exclusive; other indicator lights will turn off. 


\begin{DoxyParams}{Parameters}
{\em floor} & Floor to turn on the indicator for.\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
Owing to peculiarities in the hardware construction, there will always be one indicator active. 
\end{DoxyWarning}
\mbox{\Hypertarget{hardware_8h_adbc773374e55e3d33448f1e73a555b8c}\label{hardware_8h_adbc773374e55e3d33448f1e73a555b8c}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Command\+Movement@{hardware\+Command\+Movement}}
\index{hardware\+Command\+Movement@{hardware\+Command\+Movement}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Command\+Movement()}{hardwareCommandMovement()}}
{\footnotesize\ttfamily void hardware\+Command\+Movement (\begin{DoxyParamCaption}\item[{\hyperlink{hardware_8h_a2167c399a24df296afc432bcb88228af}{Hardware\+Movement}}]{movement }\end{DoxyParamCaption})}



Commands the elevator to either move up or down, or commands it to halt. 


\begin{DoxyParams}{Parameters}
{\em movement} & Commanded movement. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{hardware_8h_a2ded5eb8bf7aa6d6bf82eef7189f46c7}\label{hardware_8h_a2ded5eb8bf7aa6d6bf82eef7189f46c7}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Command\+Order\+Light@{hardware\+Command\+Order\+Light}}
\index{hardware\+Command\+Order\+Light@{hardware\+Command\+Order\+Light}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Command\+Order\+Light()}{hardwareCommandOrderLight()}}
{\footnotesize\ttfamily void hardware\+Command\+Order\+Light (\begin{DoxyParamCaption}\item[{int}]{floor,  }\item[{\hyperlink{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}{Hardware\+Order}}]{order\+\_\+type,  }\item[{int}]{on }\end{DoxyParamCaption})}



Sets the light in a button corresponding to an order of type {\ttfamily order\+\_\+type}, at floor {\ttfamily floor}. 


\begin{DoxyParams}{Parameters}
{\em floor} & The floor of the order indicator. \\
\hline
{\em order\+\_\+type} & The type of order. \\
\hline
{\em on} & A truthy value (non-\/zero) to turn the light on; 0 to turn it off. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{hardware_8h_a93a01bd55c2b88c235370bd03b7fa469}\label{hardware_8h_a93a01bd55c2b88c235370bd03b7fa469}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Command\+Stop\+Light@{hardware\+Command\+Stop\+Light}}
\index{hardware\+Command\+Stop\+Light@{hardware\+Command\+Stop\+Light}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Command\+Stop\+Light()}{hardwareCommandStopLight()}}
{\footnotesize\ttfamily void hardware\+Command\+Stop\+Light (\begin{DoxyParamCaption}\item[{int}]{on }\end{DoxyParamCaption})}



Sets the light in the panel stop button. 


\begin{DoxyParams}{Parameters}
{\em on} & A truthy value (non-\/zero) to turn the light on; 0 to turn it off. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{hardware_8h_a9005b678e8f3ac391d4565dfd28b451e}\label{hardware_8h_a9005b678e8f3ac391d4565dfd28b451e}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Init@{hardware\+Init}}
\index{hardware\+Init@{hardware\+Init}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Init()}{hardwareInit()}}
{\footnotesize\ttfamily int hardware\+Init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initializes the elevator control hardware. Must be called once before other calls to the elevator hardware driver. 

\begin{DoxyReturn}{Returns}
0 on success. Non-\/zero for failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{hardware_8h_ab55ccfd084f51eb115faf9e16ba50ae6}\label{hardware_8h_ab55ccfd084f51eb115faf9e16ba50ae6}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Read\+Floor\+Sensor@{hardware\+Read\+Floor\+Sensor}}
\index{hardware\+Read\+Floor\+Sensor@{hardware\+Read\+Floor\+Sensor}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Read\+Floor\+Sensor()}{hardwareReadFloorSensor()}}
{\footnotesize\ttfamily int hardware\+Read\+Floor\+Sensor (\begin{DoxyParamCaption}\item[{int}]{floor }\end{DoxyParamCaption})}



Polls the floor sensor for the given {\ttfamily floor}. 


\begin{DoxyParams}{Parameters}
{\em floor} & Inquired floor.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the elevator is at {\ttfamily floor}, otherwise 0; 
\end{DoxyReturn}
\mbox{\Hypertarget{hardware_8h_adc6a5e321da7d0b127e511a0095c6a72}\label{hardware_8h_adc6a5e321da7d0b127e511a0095c6a72}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Read\+Obstruction\+Signal@{hardware\+Read\+Obstruction\+Signal}}
\index{hardware\+Read\+Obstruction\+Signal@{hardware\+Read\+Obstruction\+Signal}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Read\+Obstruction\+Signal()}{hardwareReadObstructionSignal()}}
{\footnotesize\ttfamily int hardware\+Read\+Obstruction\+Signal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Polls the hardware for the current obstruction signal. 

\begin{DoxyReturn}{Returns}
1 if the obstruction signal is high; 0 if it is low. 
\end{DoxyReturn}
\mbox{\Hypertarget{hardware_8h_a949eca87cadc0e0b00db40bb5439e769}\label{hardware_8h_a949eca87cadc0e0b00db40bb5439e769}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Read\+Order@{hardware\+Read\+Order}}
\index{hardware\+Read\+Order@{hardware\+Read\+Order}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Read\+Order()}{hardwareReadOrder()}}
{\footnotesize\ttfamily int hardware\+Read\+Order (\begin{DoxyParamCaption}\item[{int}]{floor,  }\item[{\hyperlink{hardware_8h_a796a8de8ce0ae769d7dbd3327a7bdbe7}{Hardware\+Order}}]{order\+\_\+type }\end{DoxyParamCaption})}



Polls the hardware for the status of orders from floor {\ttfamily floor} of type {\ttfamily order\+\_\+type}. 


\begin{DoxyParams}{Parameters}
{\em floor} & Inquired floor. \\
\hline
{\em order\+\_\+type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the combination of {\ttfamily floor} and {\ttfamily order\+\_\+type} is being requested, otherwise 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{hardware_8h_acbc07594440ad4d8c0cf606e4312dc7f}\label{hardware_8h_acbc07594440ad4d8c0cf606e4312dc7f}} 
\index{hardware.\+h@{hardware.\+h}!hardware\+Read\+Stop\+Signal@{hardware\+Read\+Stop\+Signal}}
\index{hardware\+Read\+Stop\+Signal@{hardware\+Read\+Stop\+Signal}!hardware.\+h@{hardware.\+h}}
\subsubsection{\texorpdfstring{hardware\+Read\+Stop\+Signal()}{hardwareReadStopSignal()}}
{\footnotesize\ttfamily int hardware\+Read\+Stop\+Signal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Polls the hardware for the current stop signal. 

\begin{DoxyReturn}{Returns}
1 if the stop signal is high; 0 if it is low. 
\end{DoxyReturn}
